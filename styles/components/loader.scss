@use '/styles/core/core' as *;

//***********************************************************************
//  Spin
//***********************************************************************
.loader-spin {
    display: block;
    width:  $icon-size;
    height: $icon-size;
    margin: 0 auto;
    animation: spin 1200ms infinite linear;

    .path {
        stroke: $brand-primary;
        stroke-linecap: round;
        animation: spin_dash 600ms ease-in-out infinite;

        .loader.is-white & {
            stroke: white;
        }
    }
}

@keyframes spin {
    0%   { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes spin_dash {
    0% {
        stroke-dasharray: 1, 150;
        stroke-dashoffset: 0;
    }

    50% {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: -35;
    }

    100% {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: -124;
    }
}

//***********************************************************************
//  Dot
//***********************************************************************
.loader-dot {
    display: block;
    width: $icon-size;
    height: $icon-size;
    margin: 0 auto;
    position: relative;

    span {
        position: absolute;
        width: 6px;
        height: 6px;
        top: 0;
        bottom: 0;
        margin: auto 0;
        background-color: $brand-primary;

        &:nth-child(1) {
            left: 0;
            animation: dot1 800ms infinite linear;
        }

        &:nth-child(2) {
            left: 0;
            right: 0;
            margin-left: auto;
            margin-right: auto;
            animation: dot2 800ms infinite linear;
        }

        &:nth-child(3) {
            right: 0;
            animation: dot3 800ms infinite linear;
        }
    }

    &.rounded-full {
        span {
            border-radius: 100px;
        }
    }

    &.is-white {
        span {
            background-color: white;
        }
    }
}

@keyframes dot1 {
    0%   { opacity: 0; }
    10%  { opacity: 1; }
    50%  { opacity: 1; }
    60%  { opacity: 0; }
    100% { opacity: 0; }
}

@keyframes dot2 {
    0%   { opacity: 0; }
    10%  { opacity: 0; }
    20%  { opacity: 1; }
    60%  { opacity: 1; }
    70%  { opacity: 0; }
    100% { opacity: 0; }
}

@keyframes dot3 {
    0%   { opacity: 0; }
    20%  { opacity: 0; }
    30%  { opacity: 1; }
    70%  { opacity: 1; }
    80%  { opacity: 0; }
    100% { opacity: 0; }
}

//***********************************************************************
//  Line
//***********************************************************************
.loader-line {
    display: block;
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 4px;
    background-color: rgba(0,0,0,0.1);

    @include darkmode {
        background-color: rgba(255,255,255,0.1);
    }

    .loader-line-active {
        position: relative;
        display: block;
        width: 100%;
        height: 100%;
        background-color: $brand-primary;
        animation: loader_line_animate 1s linear infinite;
    }

    &.rounded-full {
        border-radius: 9999px;

        .loader-line-active {
            border-radius: 9999px;
        }
    }
}

@keyframes loader_line_animate {
    0%   { transform: translateX(-100%) scale(1, 1) }
    25%  { transform: translateX(-50%) scale(0.2, 1) }
    50%  { transform: translateX(0) scale(1, 1) }
    75%  { transform: translateX(50%) scale(0.2, 1) }
    100% { transform: translateX(100%) scale(1, 1) }
}

//***********************************************************************
//  Bar
//***********************************************************************
.loader-bar {
    display: block;
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 8px;
    background-color: rgba(0,0,0,0.1);

    @include darkmode {
        background-color: rgba(255,255,255,0.1);
    }

    .loader-bar-active {
        position: relative;
        display: block;
        width: 0;
        height: 100%;
        background-color: $brand-primary;
    }

    &.animate {
        .loader-bar-active {
            transition: width 100ms $easing;
        }
    }

    &.rounded-full {
        border-radius: 9999px;

        .loader-bar-active {
            border-radius: 9999px;
        }

        &.animate {
            .loader-bar-active::after {
                border-radius: 9999px;
            }
        }
    }

    &.is-white {
        .loader-bar-active {
            background-color: white;
        }
    }
}

//***********************************************************************
//  Circle
//***********************************************************************
.loader-circle {
    position: relative;
    width: $icon-size;
    height: $icon-size;
    margin: 0 auto;

    svg {
        position: absolute;
        z-index: 1;
        top: 0;
        left: 0;
        width: $icon-size;
        height: $icon-size;
        margin: 0;

        circle {
            stroke: rgba(0,0,0,0.1);
            stroke-width: 2px;
            transform: rotate(-90deg) scale(1.25);
            transform-origin: center;

            @include darkmode {
                stroke: rgba(255,255,255,0.1);
            }
        }

        &.loader-circle-active {
            z-index: 2;

            circle {
                stroke: $brand-primary;
            }
        }
    }

    &.animate {
        svg {
            circle {
                transition: stroke-dashoffset 100ms $easing;
            }
        }
    }
}